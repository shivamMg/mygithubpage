function t(a){if(G>b)r.unbind("update",t);else{for(var n=0;n<f.length;n++)f[n].translation.set(f[n].translation.x+k[n][0],f[n].translation.y+k[n][1]);G++}}for(var a=document.getElementById("fluorine"),n=window.innerWidth||document.body.clientWidth,e=n/2,i=2*Math.PI/7,o=Math.PI/180,r=new Two({width:n,height:220}).appendTo(a),l=r.makeGroup(),s=r.makeGroup(),d=[[0,-50],[0,50],[80*Math.sin(1*i),-80*Math.cos(1*i)],[80*Math.sin(2*i),-80*Math.cos(2*i)],[80*Math.sin(3*i),-80*Math.cos(3*i)],[80*Math.sin(4*i),-80*Math.cos(4*i)],[80*Math.sin(5*i),-80*Math.cos(5*i)],[80*Math.sin(6*i),-80*Math.cos(6*i)],[80*Math.sin(7*i),-80*Math.cos(7*i)]],h=0;h<2;h++)(p=r.makeCircle(d[h][0],d[h][1],6)).fill="#aaa",s.add(p);for(h=2;h<d.length;h++){var p=r.makeCircle(d[h][0],d[h][1],6);p.fill="#aaa",l.add(p)}l.translation.set(e,110),s.translation.set(e,110);for(var u=[["p",6,-16],["n",-6,-16],["n",16,-6],["p",16,6],["n",6,16],["p",-6,16],["n",-16,-6],["p",-16,6],["p",0,10],["p",-10,0],["p",10,0],["p",0,-10],["n",-10,-10],["n",10,-10],["n",-10,10],["n",10,10]],f=[],c=r.makeGroup(),h=0;h<u.length;h++){var M=r.makeCircle(u[h][1],u[h][2],6);"p"==u[h][0]?(M.fill="#bcbcbc",M.linewidth=.5,M.stroke="#848484"):(M.fill="#1111ff",M.linewidth=.5,M.stroke="#424242"),c.add(M),f.push(M)}var v=r.makeCircle(0,0,6);v.fill="#1111ff",v.linewidth=0,c.add(v),c.translation.set(e,110);var m=r.makeCircle(e,110,30);m.fill="transparent",m.linewidth=0,r.update(),r.bind("update",function(t){s.rotation-=o,l.rotation+=o}).play();for(var w=document.getElementById(m.id),b=20,k=[],h=0;h<u.length;h++){var g=u[h][1]+e,y=u[h][2]+110,C=Math.sqrt(Math.pow(e-g,2)+Math.pow(110-y,2)),I=(g-e)/C*(30-C),x=(y-110)/C*(30-C);k.push([I/b,x/b])}var G=1;w.onmouseenter=function(){r.bind("update",t).play()};var B=1;w.onmouseleave=function(){function a(){if(B>b)return r.unbind("update",a),void(B=1);for(var t=0;t<f.length;t++)f[t].translation.set(f[t].translation.x-n[t][0],f[t].translation.y-n[t][1]);B++}r.unbind("update",t),G=1;for(var n=[],e=0;e<f.length;e++){var i=(f[e].translation.x-u[e][1])/b,o=(f[e].translation.y-u[e][2])/b;n.push([i,o])}r.bind("update",a)};